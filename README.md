# PersonalCabinetPrototype

**Общая логика работы личного кабинета:**

Сначала идёт проверка, залогинен ли пользователь:
    - смотрим в localStorage объект user. Если он есть, берём оттуда логин и пароль и ключ, который сервер генерирует всякий раз, когда происходит изменение данных. Делаем запрос на сервер с этими данными. Если логин, пароль и ключ совпадают, сервер присылает код типа "ВСЁ ОКЕЙ", это означает что объект в localStorage хранит всю актуальную информацию и можно рендерить страницу с него. Если логин, пароль совпадают, а ключ нет, то сервер присылает объект user, который перезаписывает текущий в localStorage.
    - происходит рендеринг объекта user.
    
Если объекта user в localStorage не существует, то открывается окно ввода данных:

1. Ввод данных --> 
2. Запрос к Серверу. Сервер ищет аккаунт с такими данными, если он существует, высылает объект user, где хранятся: 
    - имя и фамилия аккаунта
    - ссылка на аватар
    - объект со списоком видео, каждый элемент которого содержит: 
        - ссылку на видео-файл
        - обложку (если пользователь загрузил)
        - теги для видео
3. Объект user рендерится на сайте. 

**Логика загрузки видео пользователем:**

1. Пользователь загружает файл, обложку, выбирает теги
2. на сервер отправляется POST-запрос, где содержится объект видео, в котором есть:
    - теги видео
    - обложка 
    - само видео
    - название видео
    - информация об авторе
    - статус модерации: false
3. Сервер принимает объект с видео и записывает его в БД. 
